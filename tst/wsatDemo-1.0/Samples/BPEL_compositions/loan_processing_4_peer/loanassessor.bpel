<process name="assessor" 
         targetNamespace="http://acme.com/loanassessor"
         suppressJoinFailure="yes"
         xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
         xmlns:lns="http://loans.org/wsdl/loan-approval"
         xmlns:loandef="http://tempuri.org/services/loandefinitions" 
         xmlns:asns="http://tempuri.org/services/loanassessor"
         xmlns:apns="http://tempuri.org/services/loanapprover">

  <variables>
    <variable name="request" 
               messageType="loandef:creditInformationMessage"/>
    <variable name="riskAssessment" 
               messageType="asns:riskAssessmentMessage"/>
  </variables>

  <partners>
    <partner name="customer" 
             serviceLinkType="lns:riskAssessmentLinkType"
             myrole="assessor"/>
  </partners>

  <sequence>
    <receive name="receive1" partner="customer" 
             portType="asns:riskAssessmentPT" 
             operation="check" variable="request"
             createInstance="yes">
    </receive>

    <assign name="assign">
      <copy>
        <from expression="'low'"/>
        <to variable="riskAssessment" part="risk"/>
      </copy>
    </assign>

    <reply name="reply" partner="customer" portType="asns:riskAssessmentPT" 
           operation="check" variable="riskAssessment">
    </reply>

  </sequence>
</process>
